<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>For You â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- Cute Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;600&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  overflow: hidden;       
  overscroll-behavior: none;
}

body {
  font-family: 'Nunito', system-ui, sans-serif;
  background: linear-gradient(135deg, #ff758c, #ff7eb3);
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
}

  /* ===== CONTENT CARD (60vh) ===== */
  .card {
    height: 60vh;
    width: 92%;
    max-width: 420px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    position: relative;
  }

  /* â¤ï¸ Progress Hearts */
  .progress {
    display: flex;
    justify-content: center;
    gap: 6px;
    margin-bottom: 20px;
  }

  .heart-meter {
    font-size: 20px;
    opacity: 0.25;
    transition: opacity 0.4s;
  }

  .heart-meter.active {
    opacity: 1;
  }

  /* Question */
  .question {
    font-family: 'Apacifico', cursive;
    font-size: 1.8rem;
    line-height: 1.3;
    margin-bottom: 35px;
    animation: slideIn 0.4s ease;
  }

  /* Buttons */
  .buttons {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
  }

  button {
    width: 190px;
    padding: 25px 0;
    font-size: 1.55rem;
    border-radius: 999px;
    border: none;
    touch-action: manipulation;
    transition: transform 0.3s ease, opacity 0.5s ease;
  }

  .yes {
    background: #2ecc71;
    color: white;
    z-index: 2;
    cursor: pointer;
  }

  .no {
    background: #e74c3c;
    color: white;
  }

  /* â¤ï¸ INTENSE HEART CONFETTI */
  .confetti {
    position: fixed;
    font-size: 24px;
    pointer-events: none;
    animation: explode 2s ease-out forwards;
  }

  @keyframes explode {
    0% {
      transform: translate(0, 0) scale(0.6);
      opacity: 1;
    }
    100% {
      transform: translate(var(--x), var(--y)) scale(2);
      opacity: 0;
    }
  }

  /* Transitions */
  @keyframes slideIn {
    from { transform: translateY(40px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  @keyframes slideOut {
    to { transform: translateY(-50px); opacity: 0; }
  }

  .slide-out {
    animation: slideOut 0.4s ease forwards;
  }
</style>
</head>

<body>

<div class="card">
  <div class="progress" id="progress"></div>
  <div id="content"></div>
</div>

<script>
  const questions = [
    "Awww, finally you're here! <br /> Are you excited for this Valentine? ğŸ˜¬",
    "Do you smile when you see my name pop up? ğŸ˜",
    "Do you secretly enjoy the silly side of me? ğŸ˜œ",
    "Do I make your bad days a little better? ğŸŒ™",
    "Would you choose a moment with me over anything else? ğŸ’«",
    "Soâ€¦ will you be my Valentine? ğŸ’–"
  ];

  let step = 0;
  let noScale = 1;

  const content = document.getElementById("content");
  const progress = document.getElementById("progress");

  // Build progress hearts
  questions.forEach(() => {
    const h = document.createElement("div");
    h.className = "heart-meter";
    h.textContent = "â¤ï¸";
    progress.appendChild(h);
  });

  function renderStep() {
    document.querySelectorAll(".heart-meter")
      .forEach((h, i) => h.classList.toggle("active", i <= step));

    content.innerHTML = `
      <div class="question">${questions[step]}</div>
      <div class="buttons">
        <button class="yes">Yes ğŸ’•</button>
        <button class="no">No ğŸ’”</button>
      </div>
    `;

    const yesBtn = document.querySelector(".yes");
    const noBtn = document.querySelector(".no");

    // MOBILE-OPTIMIZED NO: teleport + shrink
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      teleportNo(noBtn);
    });

    noBtn.addEventListener("mouseenter", () => teleportNo(noBtn));

    yesBtn.onclick = () => {
      massiveHeartBurst();
      content.classList.add("slide-out");

      setTimeout(() => {
        content.classList.remove("slide-out");
        step++;
        step < questions.length ? renderStep() : showFinal();
      }, 400);
    };
  }

  function teleportNo(btn) {
    noScale = Math.max(0.4, noScale - 0.08);
    btn.style.opacity = "0";

    setTimeout(() => {
      const x = Math.random() * (window.innerWidth - 200);
      const y = Math.random() * (window.innerHeight - 200);

      btn.style.position = "fixed";
      btn.style.left = `${x}px`;
      btn.style.top = `${y}px`;
      btn.style.transform = `scale(${noScale})`;
      btn.style.opacity = "1";
    }, 120);
  }

  function massiveHeartBurst() {
    const hearts = ["â¤ï¸","ğŸ’–","ğŸ’˜","ğŸ’•","ğŸ’—"];
    const count = 90; // INTENSE ğŸ’¥

    for (let i = 0; i < count; i++) {
      const h = document.createElement("div");
      h.className = "confetti";
      h.textContent = hearts[Math.floor(Math.random() * hearts.length)];

      const x = (Math.random() - 0.5) * window.innerWidth;
      const y = (Math.random() - 0.5) * window.innerHeight;

      h.style.left = "50%";
      h.style.top = "60%";
      h.style.setProperty("--x", `${x}px`);
      h.style.setProperty("--y", `${y}px`);

      document.body.appendChild(h);
      setTimeout(() => h.remove(), 2000);
    }
  }

  function showFinal() {
    content.innerHTML = `
      <div class="question">Yayyy!! ğŸ’–ğŸ¥°</div>
      <p style="font-size:1.3rem;">You just made this Valentine unforgettable ğŸ’˜</p>
    `;
  }

  renderStep();
</script>

</body>
</html>